function X(f){let a=atob(f),g=a.length,r=new Uint8Array(g);for(let n=0;n<g;n++)r[n]=a.charCodeAt(n);return r}function Q(f){typeof f=="string"&&(f=new TextEncoder().encode(f));let a="",g=f.byteLength;for(let r=0;r<g;r++)a+=String.fromCharCode(f[r]);return btoa(a)}var Ct=new Uint8Array(16);var G=class{constructor(a="",g=1e3){this.prefix=a;this.maxCaptureSize=g;this.prefix=a,this.originalConsole={log:console.log.bind(console),info:console.info.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),debug:console.debug.bind(console)},this.patchConsole()}originalConsole;logBuffer=[];patchConsole(){let a=g=>(...r)=>{let n=this.prefix?[this.prefix,...r]:r;this.originalConsole[g](...n),this.captureLog(g,r)};console.log=a("log"),console.info=a("info"),console.warn=a("warn"),console.error=a("error"),console.debug=a("debug")}captureLog(a,g){let r={level:a,timestamp:Date.now(),message:g.map(n=>{if(typeof n=="string")return n;try{return JSON.stringify(n)}catch{return String(n)}}).join(" ")};this.logBuffer.push(r),this.logBuffer.length>this.maxCaptureSize&&this.logBuffer.shift()}async postToServer(a,g){if(this.logBuffer.length>0){let n=[...this.logBuffer];this.logBuffer=[];try{if(!(await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.map(e=>({...e,source:g})))})).ok)throw new Error("Failed to post logs to server")}catch(l){console.warn("Could not post logs to server",l.message),this.logBuffer.unshift(...n)}}}},Z;function V(f=""){return Z=new G(f),Z}var K=f=>{throw new Error("Not initialized yet")},J=typeof window>"u"&&typeof globalThis.WebSocketPair>"u";typeof Deno>"u"&&(self.Deno={args:[],build:{arch:"x86_64"},env:{get(){}}});var W=new Map,$=0;J&&(globalThis.syscall=async(f,...a)=>await new Promise((g,r)=>{$++,W.set($,{resolve:g,reject:r}),K({type:"sys",id:$,name:f,args:a})}));function z(f,a,g){J&&(K=g,self.addEventListener("message",r=>{(async()=>{let n=r.data;switch(n.type){case"inv":{let l=f[n.name];if(!l)throw new Error(`Function not loaded: ${n.name}`);try{let e=await Promise.resolve(l(...n.args||[]));K({type:"invr",id:n.id,result:e})}catch(e){console.error("An exception was thrown as a result of invoking function",n.name,"error:",e.message),K({type:"invr",id:n.id,error:e.message})}}break;case"sysr":{let l=n.id,e=W.get(l);if(!e)throw Error("Invalid request id");W.delete(l),n.error?e.reject(new Error(n.error)):e.resolve(n.result)}break}})().catch(console.error)}),K({type:"manifest",manifest:a}),V(`[${a.name} plug]`))}async function ut(f,a){if(typeof f!="string"){let g=new Uint8Array(await f.arrayBuffer()),r=g.length>0?Q(g):void 0;a={method:f.method,headers:Object.fromEntries(f.headers.entries()),base64Body:r},f=f.url}return syscall("sandboxFetch.fetch",f,a)}globalThis.nativeFetch=globalThis.fetch;function lt(){globalThis.fetch=async function(f,a){let g=a&&a.body?Q(new Uint8Array(await new Response(a.body).arrayBuffer())):void 0,r=await ut(f,a&&{method:a.method,headers:a.headers,base64Body:g});return new Response(r.base64Body?X(r.base64Body):null,{status:r.status,headers:r.headers})}}J&&lt();var U=function(f,a){let n=f,l=F[a],e=null,t=0,h=null,w=[],b={},y=function(s,u){t=n*4+17,e=function(o){let c=new Array(o);for(let i=0;i<o;i+=1){c[i]=new Array(o);for(let p=0;p<o;p+=1)c[i][p]=null}return c}(t),d(0,0),d(t-7,0),d(0,t-7),T(),D(),R(s,u),n>=7&&k(s),h==null&&(h=at(n,l,w)),L(h,u)},d=function(s,u){for(let o=-1;o<=7;o+=1)if(!(s+o<=-1||t<=s+o))for(let c=-1;c<=7;c+=1)u+c<=-1||t<=u+c||(0<=o&&o<=6&&(c==0||c==6)||0<=c&&c<=6&&(o==0||o==6)||2<=o&&o<=4&&2<=c&&c<=4?e[s+o][u+c]=!0:e[s+o][u+c]=!1)},A=function(){let s=0,u=0;for(let o=0;o<8;o+=1){y(!0,o);let c=I.getLostPoint(b);(o==0||s>c)&&(s=c,u=o)}return u},D=function(){for(let s=8;s<t-8;s+=1)e[s][6]==null&&(e[s][6]=s%2==0);for(let s=8;s<t-8;s+=1)e[6][s]==null&&(e[6][s]=s%2==0)},T=function(){let s=I.getPatternPosition(n);for(let u=0;u<s.length;u+=1)for(let o=0;o<s.length;o+=1){let c=s[u],i=s[o];if(e[c][i]==null)for(let p=-2;p<=2;p+=1)for(let x=-2;x<=2;x+=1)p==-2||p==2||x==-2||x==2||p==0&&x==0?e[c+p][i+x]=!0:e[c+p][i+x]=!1}},k=function(s){let u=I.getBCHTypeNumber(n);for(let o=0;o<18;o+=1){let c=!s&&(u>>o&1)==1;e[Math.floor(o/3)][o%3+t-8-3]=c}for(let o=0;o<18;o+=1){let c=!s&&(u>>o&1)==1;e[o%3+t-8-3][Math.floor(o/3)]=c}},R=function(s,u){let o=l<<3|u,c=I.getBCHTypeInfo(o);for(let i=0;i<15;i+=1){let p=!s&&(c>>i&1)==1;i<6?e[i][8]=p:i<8?e[i+1][8]=p:e[t-15+i][8]=p}for(let i=0;i<15;i+=1){let p=!s&&(c>>i&1)==1;i<8?e[8][t-i-1]=p:i<9?e[8][15-i-1+1]=p:e[8][15-i-1]=p}e[t-8][8]=!s},L=function(s,u){let o=-1,c=t-1,i=7,p=0,x=I.getMaskFunction(u);for(let C=t-1;C>0;C-=2)for(C==6&&(C-=1);;){for(let B=0;B<2;B+=1)if(e[c][C-B]==null){let _=!1;p<s.length&&(_=(s[p]>>>i&1)==1),x(c,C-B)&&(_=!_),e[c][C-B]=_,i-=1,i==-1&&(p+=1,i=7)}if(c+=o,c<0||t<=c){c-=o,o=-o;break}}},ct=function(s,u){let o=0,c=0,i=0,p=new Array(u.length),x=new Array(u.length);for(let m=0;m<u.length;m+=1){let M=u[m].dataCount,P=u[m].totalCount-M;c=Math.max(c,M),i=Math.max(i,P),p[m]=new Array(M);for(let v=0;v<p[m].length;v+=1)p[m][v]=255&s.getBuffer()[v+o];o+=M;let j=I.getErrorCorrectPolynomial(P),Y=H(p[m],j.getLength()-1).mod(j);x[m]=new Array(j.getLength()-1);for(let v=0;v<x[m].length;v+=1){let q=v+Y.getLength()-x[m].length;x[m][v]=q>=0?Y.getAt(q):0}}let C=0;for(let m=0;m<u.length;m+=1)C+=u[m].totalCount;let B=new Array(C),_=0;for(let m=0;m<c;m+=1)for(let M=0;M<u.length;M+=1)m<p[M].length&&(B[_]=p[M][m],_+=1);for(let m=0;m<i;m+=1)for(let M=0;M<u.length;M+=1)m<x[M].length&&(B[_]=x[M][m],_+=1);return B},at=function(s,u,o){let c=tt.getRSBlocks(s,u),i=et();for(let x=0;x<o.length;x+=1){let C=o[x];i.put(C.getMode(),4),i.put(C.getLength(),I.getLengthInBits(C.getMode(),s)),C.write(i)}let p=0;for(let x=0;x<c.length;x+=1)p+=c[x].dataCount;if(i.getLengthInBits()>p*8)throw"code length overflow. ("+i.getLengthInBits()+">"+p*8+")";for(i.getLengthInBits()+4<=p*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=p*8||(i.put(236,8),i.getLengthInBits()>=p*8));)i.put(17,8);return ct(i,c)};b.addData=function(s,u){u=u||"Byte";let o=null;switch(u){case"Numeric":o=gt(s);break;case"Alphanumeric":o=ht(s);break;case"Byte":o=dt(s);break;case"Kanji":o=yt(s);break;default:throw"mode:"+u}w.push(o),h=null},b.isDark=function(s,u){if(s<0||t<=s||u<0||t<=u)throw s+","+u;return e[s][u]},b.getModuleCount=function(){return t},b.make=function(){if(n<1){let s=1;for(;s<40;s++){let u=tt.getRSBlocks(s,l),o=et();for(let i=0;i<w.length;i++){let p=w[i];o.put(p.getMode(),4),o.put(p.getLength(),I.getLengthInBits(p.getMode(),s)),p.write(o)}let c=0;for(let i=0;i<u.length;i++)c+=u[i].dataCount;if(o.getLengthInBits()<=c*8)break}n=s}y(!1,A())},b.createTableTag=function(s,u){s=s||2,u=typeof u>"u"?s*4:u;let o="";o+='<table style="',o+=" border-width: 0px; border-style: none;",o+=" border-collapse: collapse;",o+=" padding: 0px; margin: "+u+"px;",o+='">',o+="<tbody>";for(let c=0;c<b.getModuleCount();c+=1){o+="<tr>";for(let i=0;i<b.getModuleCount();i+=1)o+='<td style="',o+=" border-width: 0px; border-style: none;",o+=" border-collapse: collapse;",o+=" padding: 0px; margin: 0px;",o+=" width: "+s+"px;",o+=" height: "+s+"px;",o+=" background-color: ",o+=b.isDark(c,i)?"#000000":"#ffffff",o+=";",o+='"/>';o+="</tr>"}return o+="</tbody>",o+="</table>",o},b.createSvgTag=function(s,u,o,c){let i={};typeof arguments[0]=="object"&&(i=arguments[0],s=i.cellSize,u=i.margin,o=i.alt,c=i.title),s=s||2,u=typeof u>"u"?s*4:u,o=typeof o=="string"?{text:o}:o||{},o.text=o.text||null,o.id=o.text?o.id||"qrcode-description":null,c=typeof c=="string"?{text:c}:c||{},c.text=c.text||null,c.id=c.text?c.id||"qrcode-title":null;let p=b.getModuleCount()*s+u*2,x,C,B,_,m="",M;for(M="l"+s+",0 0,"+s+" -"+s+",0 0,-"+s+"z ",m+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',m+=i.scalable?"":' width="'+p+'px" height="'+p+'px"',m+=' viewBox="0 0 '+p+" "+p+'" ',m+=' preserveAspectRatio="xMinYMin meet"',m+=c.text||o.text?' role="img" aria-labelledby="'+S([c.id,o.id].join(" ").trim())+'"':"",m+=">",m+=c.text?'<title id="'+S(c.id)+'">'+S(c.text)+"</title>":"",m+=o.text?'<description id="'+S(o.id)+'">'+S(o.text)+"</description>":"",m+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',m+='<path d="',B=0;B<b.getModuleCount();B+=1)for(_=B*s+u,x=0;x<b.getModuleCount();x+=1)b.isDark(B,x)&&(C=x*s+u,m+="M"+C+","+_+M);return m+='" stroke="transparent" fill="black"/>',m+="</svg>",m},b.createDataURL=function(s,u){s=s||2,u=typeof u>"u"?s*4:u;let o=b.getModuleCount()*s+u*2,c=u,i=o-u;return xt(o,o,function(p,x){if(c<=p&&p<i&&c<=x&&x<i){let C=Math.floor((p-c)/s),B=Math.floor((x-c)/s);return b.isDark(B,C)?0:1}else return 1})},b.createImgTag=function(s,u,o){s=s||2,u=typeof u>"u"?s*4:u;let c=b.getModuleCount()*s+u*2,i="";return i+="<img",i+=' src="',i+=b.createDataURL(s,u),i+='"',i+=' width="',i+=c,i+='"',i+=' height="',i+=c,i+='"',o&&(i+=' alt="',i+=S(o),i+='"'),i+="/>",i};let S=function(s){let u="";for(let o=0;o<s.length;o+=1){let c=s.charAt(o);switch(c){case"<":u+="&lt;";break;case">":u+="&gt;";break;case"&":u+="&amp;";break;case'"':u+="&quot;";break;default:u+=c;break}}return u},ft=function(s){s=typeof s>"u"?1*2:s;let o=b.getModuleCount()*1+s*2,c=s,i=o-s,p,x,C,B,_,m={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},M={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},P="";for(p=0;p<o;p+=2){for(C=Math.floor((p-c)/1),B=Math.floor((p+1-c)/1),x=0;x<o;x+=1)_="\u2588",c<=x&&x<i&&c<=p&&p<i&&b.isDark(C,Math.floor((x-c)/1))&&(_=" "),c<=x&&x<i&&c<=p+1&&p+1<i&&b.isDark(B,Math.floor((x-c)/1))?_+=" ":_+="\u2588",P+=s<1&&p+1>=i?M[_]:m[_];P+=`
`}return o%2&&s>0?P.substring(0,P.length-o-1)+Array(o+1).join("\u2580"):P.substring(0,P.length-1)};return b.createASCII=function(s,u){if(s=s||1,s<2)return ft(u);s-=1,u=typeof u>"u"?s*2:u;let o=b.getModuleCount()*s+u*2,c=u,i=o-u,p,x,C,B,_=Array(s+1).join("\u2588\u2588"),m=Array(s+1).join("  "),M="",P="";for(p=0;p<o;p+=1){for(C=Math.floor((p-c)/s),P="",x=0;x<o;x+=1)B=1,c<=x&&x<i&&c<=p&&p<i&&b.isDark(C,Math.floor((x-c)/s))&&(B=0),P+=B?_:m;for(C=0;C<s;C+=1)M+=P+`
`}return M.substring(0,M.length-1)},b.renderTo2dContext=function(s,u){u=u||2;let o=b.getModuleCount();for(let c=0;c<o;c++)for(let i=0;i<o;i++)s.fillStyle=b.isDark(c,i)?"black":"white",s.fillRect(i*u,c*u,u,u)},b};U.stringToBytes=function(f){let a=[];for(let g=0;g<f.length;g+=1){let r=f.charCodeAt(g);a.push(r&255)}return a};U.createStringToBytes=function(f,a){let g=function(){let n=wt(f),l=function(){let h=n.read();if(h==-1)throw"eof";return h},e=0,t={};for(;;){let h=n.read();if(h==-1)break;let w=l(),b=l(),y=l(),d=String.fromCharCode(h<<8|w),A=b<<8|y;t[d]=A,e+=1}if(e!=a)throw e+" != "+a;return t}(),r=63;return function(n){let l=[];for(let e=0;e<n.length;e+=1){let t=n.charCodeAt(e);if(t<128)l.push(t);else{let h=g[n.charAt(e)];typeof h=="number"?(h&255)==h?l.push(h):(l.push(h>>>8),l.push(h&255)):l.push(r)}}return l}};var E={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},F={L:1,M:0,Q:3,H:2},N={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},I=function(){let f=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],a=1335,g=7973,r=21522,n={},l=function(e){let t=0;for(;e!=0;)t+=1,e>>>=1;return t};return n.getBCHTypeInfo=function(e){let t=e<<10;for(;l(t)-l(a)>=0;)t^=a<<l(t)-l(a);return(e<<10|t)^r},n.getBCHTypeNumber=function(e){let t=e<<12;for(;l(t)-l(g)>=0;)t^=g<<l(t)-l(g);return e<<12|t},n.getPatternPosition=function(e){return f[e-1]},n.getMaskFunction=function(e){switch(e){case N.PATTERN000:return function(t,h){return(t+h)%2==0};case N.PATTERN001:return function(t,h){return t%2==0};case N.PATTERN010:return function(t,h){return h%3==0};case N.PATTERN011:return function(t,h){return(t+h)%3==0};case N.PATTERN100:return function(t,h){return(Math.floor(t/2)+Math.floor(h/3))%2==0};case N.PATTERN101:return function(t,h){return t*h%2+t*h%3==0};case N.PATTERN110:return function(t,h){return(t*h%2+t*h%3)%2==0};case N.PATTERN111:return function(t,h){return(t*h%3+(t+h)%2)%2==0};default:throw"bad maskPattern:"+e}},n.getErrorCorrectPolynomial=function(e){let t=H([1],0);for(let h=0;h<e;h+=1)t=t.multiply(H([1,O.gexp(h)],0));return t},n.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case E.MODE_NUMBER:return 10;case E.MODE_ALPHA_NUM:return 9;case E.MODE_8BIT_BYTE:return 8;case E.MODE_KANJI:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case E.MODE_NUMBER:return 12;case E.MODE_ALPHA_NUM:return 11;case E.MODE_8BIT_BYTE:return 16;case E.MODE_KANJI:return 10;default:throw"mode:"+e}else if(t<41)switch(e){case E.MODE_NUMBER:return 14;case E.MODE_ALPHA_NUM:return 13;case E.MODE_8BIT_BYTE:return 16;case E.MODE_KANJI:return 12;default:throw"mode:"+e}else throw"type:"+t},n.getLostPoint=function(e){let t=e.getModuleCount(),h=0;for(let y=0;y<t;y+=1)for(let d=0;d<t;d+=1){let A=0,D=e.isDark(y,d);for(let T=-1;T<=1;T+=1)if(!(y+T<0||t<=y+T))for(let k=-1;k<=1;k+=1)d+k<0||t<=d+k||T==0&&k==0||D==e.isDark(y+T,d+k)&&(A+=1);A>5&&(h+=3+A-5)}for(let y=0;y<t-1;y+=1)for(let d=0;d<t-1;d+=1){let A=0;e.isDark(y,d)&&(A+=1),e.isDark(y+1,d)&&(A+=1),e.isDark(y,d+1)&&(A+=1),e.isDark(y+1,d+1)&&(A+=1),(A==0||A==4)&&(h+=3)}for(let y=0;y<t;y+=1)for(let d=0;d<t-6;d+=1)e.isDark(y,d)&&!e.isDark(y,d+1)&&e.isDark(y,d+2)&&e.isDark(y,d+3)&&e.isDark(y,d+4)&&!e.isDark(y,d+5)&&e.isDark(y,d+6)&&(h+=40);for(let y=0;y<t;y+=1)for(let d=0;d<t-6;d+=1)e.isDark(d,y)&&!e.isDark(d+1,y)&&e.isDark(d+2,y)&&e.isDark(d+3,y)&&e.isDark(d+4,y)&&!e.isDark(d+5,y)&&e.isDark(d+6,y)&&(h+=40);let w=0;for(let y=0;y<t;y+=1)for(let d=0;d<t;d+=1)e.isDark(d,y)&&(w+=1);let b=Math.abs(100*w/t/t-50)/5;return h+=b*10,h},n}(),O=function(){let f=new Array(256),a=new Array(256);for(let r=0;r<8;r+=1)f[r]=1<<r;for(let r=8;r<256;r+=1)f[r]=f[r-4]^f[r-5]^f[r-6]^f[r-8];for(let r=0;r<255;r+=1)a[f[r]]=r;let g={};return g.glog=function(r){if(r<1)throw"glog("+r+")";return a[r]},g.gexp=function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return f[r]},g}(),H=function(f,a){if(typeof f.length>"u")throw f.length+"/"+a;let g=function(){let n=0;for(;n<f.length&&f[n]==0;)n+=1;let l=new Array(f.length-n+a);for(let e=0;e<f.length-n;e+=1)l[e]=f[e+n];return l}(),r={};return r.getAt=function(n){return g[n]},r.getLength=function(){return g.length},r.multiply=function(n){let l=new Array(r.getLength()+n.getLength()-1);for(let e=0;e<r.getLength();e+=1)for(let t=0;t<n.getLength();t+=1)l[e+t]^=O.gexp(O.glog(r.getAt(e))+O.glog(n.getAt(t)));return H(l,0)},r.mod=function(n){if(r.getLength()-n.getLength()<0)return r;let l=O.glog(r.getAt(0))-O.glog(n.getAt(0)),e=new Array(r.getLength());for(let t=0;t<r.getLength();t+=1)e[t]=r.getAt(t);for(let t=0;t<n.getLength();t+=1)e[t]^=O.gexp(O.glog(n.getAt(t))+l);return H(e,0).mod(n)},r},tt=function(){let f=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a=function(n,l){let e={};return e.totalCount=n,e.dataCount=l,e},g={},r=function(n,l){switch(l){case F.L:return f[(n-1)*4+0];case F.M:return f[(n-1)*4+1];case F.Q:return f[(n-1)*4+2];case F.H:return f[(n-1)*4+3];default:return}};return g.getRSBlocks=function(n,l){let e=r(n,l);if(typeof e>"u")throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+l;let t=e.length/3,h=[];for(let w=0;w<t;w+=1){let b=e[w*3+0],y=e[w*3+1],d=e[w*3+2];for(let A=0;A<b;A+=1)h.push(a(y,d))}return h},g}(),et=function(){let f=[],a=0,g={};return g.getBuffer=function(){return f},g.getAt=function(r){let n=Math.floor(r/8);return(f[n]>>>7-r%8&1)==1},g.put=function(r,n){for(let l=0;l<n;l+=1)g.putBit((r>>>n-l-1&1)==1)},g.getLengthInBits=function(){return a},g.putBit=function(r){let n=Math.floor(a/8);f.length<=n&&f.push(0),r&&(f[n]|=128>>>a%8),a+=1},g},gt=function(f){let a=E.MODE_NUMBER,g=f,r={};r.getMode=function(){return a},r.getLength=function(e){return g.length},r.write=function(e){let t=g,h=0;for(;h+2<t.length;)e.put(n(t.substring(h,h+3)),10),h+=3;h<t.length&&(t.length-h==1?e.put(n(t.substring(h,h+1)),4):t.length-h==2&&e.put(n(t.substring(h,h+2)),7))};let n=function(e){let t=0;for(let h=0;h<e.length;h+=1)t=t*10+l(e.charAt(h));return t},l=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-48;throw"illegal char :"+e};return r},ht=function(f){let a=E.MODE_ALPHA_NUM,g=f,r={};r.getMode=function(){return a},r.getLength=function(l){return g.length},r.write=function(l){let e=g,t=0;for(;t+1<e.length;)l.put(n(e.charAt(t))*45+n(e.charAt(t+1)),11),t+=2;t<e.length&&l.put(n(e.charAt(t)),6)};let n=function(l){if("0"<=l&&l<="9")return l.charCodeAt(0)-48;if("A"<=l&&l<="Z")return l.charCodeAt(0)-65+10;switch(l){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+l}};return r},dt=function(f){let a=E.MODE_8BIT_BYTE,g=f,r=U.stringToBytes(f),n={};return n.getMode=function(){return a},n.getLength=function(l){return r.length},n.write=function(l){for(let e=0;e<r.length;e+=1)l.put(r[e],8)},n},yt=function(f){let a=E.MODE_KANJI,g=f,r=U.stringToBytes;(function(e,t){let h=r(e);if(h.length!=2||(h[0]<<8|h[1])!=t)throw"sjis not supported."})("\u53CB",38726);let n=r(f),l={};return l.getMode=function(){return a},l.getLength=function(e){return~~(n.length/2)},l.write=function(e){let t=n,h=0;for(;h+1<t.length;){let w=(255&t[h])<<8|255&t[h+1];if(33088<=w&&w<=40956)w-=33088;else if(57408<=w&&w<=60351)w-=49472;else throw"illegal char at "+(h+1)+"/"+w;w=(w>>>8&255)*192+(w&255),e.put(w,13),h+=2}if(h<t.length)throw"illegal char at "+(h+1)},l},nt=function(){let f=[],a={};return a.writeByte=function(g){f.push(g&255)},a.writeShort=function(g){a.writeByte(g),a.writeByte(g>>>8)},a.writeBytes=function(g,r,n){r=r||0,n=n||g.length;for(let l=0;l<n;l+=1)a.writeByte(g[l+r])},a.writeString=function(g){for(let r=0;r<g.length;r+=1)a.writeByte(g.charCodeAt(r))},a.toByteArray=function(){return f},a.toString=function(){let g="";g+="[";for(let r=0;r<f.length;r+=1)r>0&&(g+=","),g+=f[r];return g+="]",g},a},pt=function(){let f=0,a=0,g=0,r="",n={},l=function(t){r+=String.fromCharCode(e(t&63))},e=function(t){if(t<0)throw"n:"+t;if(t<26)return 65+t;if(t<52)return 97+(t-26);if(t<62)return 48+(t-52);if(t==62)return 43;if(t==63)return 47;throw"n:"+t};return n.writeByte=function(t){for(f=f<<8|t&255,a+=8,g+=1;a>=6;)l(f>>>a-6),a-=6},n.flush=function(){if(a>0&&(l(f<<6-a),f=0,a=0),g%3!=0){let t=3-g%3;for(let h=0;h<t;h+=1)r+="="}},n.toString=function(){return r},n},wt=function(f){let a=f,g=0,r=0,n=0,l={};l.read=function(){for(;n<8;){if(g>=a.length){if(n==0)return-1;throw"unexpected end of file./"+n}let h=a.charAt(g);if(g+=1,h=="=")return n=0,-1;if(h.match(/^\s$/))continue;r=r<<6|e(h.charCodeAt(0)),n+=6}let t=r>>>n-8&255;return n-=8,t};let e=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(t==43)return 62;if(t==47)return 63;throw"c:"+t};return l},bt=function(f,a){let g=f,r=a,n=new Array(f*a),l={};l.setPixel=function(w,b,y){n[b*g+w]=y},l.write=function(w){w.writeString("GIF87a"),w.writeShort(g),w.writeShort(r),w.writeByte(128),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(255),w.writeByte(255),w.writeByte(255),w.writeString(","),w.writeShort(0),w.writeShort(0),w.writeShort(g),w.writeShort(r),w.writeByte(0);let b=2,y=t(b);w.writeByte(b);let d=0;for(;y.length-d>255;)w.writeByte(255),w.writeBytes(y,d,255),d+=255;w.writeByte(y.length-d),w.writeBytes(y,d,y.length-d),w.writeByte(0),w.writeString(";")};let e=function(w){let b=w,y=0,d=0,A={};return A.write=function(D,T){if(D>>>T)throw"length over";for(;y+T>=8;)b.writeByte(255&(D<<y|d)),T-=8-y,D>>>=8-y,d=0,y=0;d=D<<y|d,y=y+T},A.flush=function(){y>0&&b.writeByte(d)},A},t=function(w){let b=1<<w,y=(1<<w)+1,d=w+1,A=h();for(let L=0;L<b;L+=1)A.add(String.fromCharCode(L));A.add(String.fromCharCode(b)),A.add(String.fromCharCode(y));let D=nt(),T=e(D);T.write(b,d);let k=0,R=String.fromCharCode(n[k]);for(k+=1;k<n.length;){let L=String.fromCharCode(n[k]);k+=1,A.contains(R+L)?R=R+L:(T.write(A.indexOf(R),d),A.size()<4095&&(A.size()==1<<d&&(d+=1),A.add(R+L)),R=L)}return T.write(A.indexOf(R),d),T.write(y,d),T.flush(),D.toByteArray()},h=function(){let w={},b=0,y={};return y.add=function(d){if(y.contains(d))throw"dup key:"+d;w[d]=b,b+=1},y.size=function(){return b},y.indexOf=function(d){return w[d]},y.contains=function(d){return typeof w[d]<"u"},y};return l},xt=function(f,a,g){let r=bt(f,a);for(let t=0;t<a;t+=1)for(let h=0;h<f;h+=1)r.setPixel(h,t,g(h,t));let n=nt();r.write(n);let l=pt(),e=n.toByteArray();for(let t=0;t<e.length;t+=1)l.writeByte(e[t]);return l.flush(),"data:image/gif;base64,"+l},rt=U,kt=U.stringToBytes;function mt(f,a){let{typeNumber:g=4,errorCorrectionLevel:r="L",cellSize:n=3,margin:l,mode:e}=a??{},t=rt(g,r);return t.addData(f,e),t.make(),t.createImgTag(n,l)}function ot(f,a){return{_isWidget:!0,html:mt(f,a)}}var st={qrcode:ot},it={name:"bulletqr",functions:{qrcode:{path:"bulletqr.ts:qrcode",syscall:"bulletqr.qrcode"}},assets:{}},Nt={manifest:it,functionMapping:st};z(st,it,self.postMessage);export{Nt as plug};
//# sourceMappingURL=bulletqr.plug.js.map
